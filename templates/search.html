{% extends "base.html" %}
{% block content %}
    <h2>Find an Open Room</h2>
    <form id="search-form">
        <label for="building">Building:</label>
        <select id="building" name="building">
            <option value="Any Building">Any Building</option>
            <option value="ECSS">ECSS</option>
            <option value="ENG">ENG</option>
            <option value="JSOM">JSOM</option>
            <option value="GR">GR</option>
        </select><br>

        <label for="room">Room Number:</label>
        <select id="room" name="room">
            <option value="Any Room Number">Any Room Number</option>
            <option value="102">102</option>
            <option value="301">301</option>
            <option value="118">118</option>
            <option value="901">901</option>
            <option value="208">208</option>
        </select><br>

        <label for="date">Date:</label>
        <input type="date" id="date" name="date" value="{{ today }}"><br>

        <label for="start_time">Start Time:</label>
        <input type="time" id="start_time" name="start_time"><br>

        <label for="end_time">End Time:</label>
        <input type="time" id="end_time" name="end_time"><br>

        <div class="form-buttons">
            <button type="button" id="reset-button">Reset</button>
            <button type="submit">Search</button>
        </div>
    </form>
    <div id="results"></div>

    <script type="text/template">
        <h2>Search Results</h2>
        <div class="search-criteria">
            <h3>Your Search</h3>
            <p><strong>Building:</strong> <span id="criteria-building"></span></p>
            <p><strong>Room Number:</strong> <span id="criteria-room"></span></p>
            <p><strong>Date:</strong> <span id="criteria-date"></span></p>
            <p><strong>Start Time:</strong> <span id="criteria-start-time"></span></p>
            <p><strong>End Time:</strong> <span id="criteria-end-time"></span></p>
        </div>
        <div class="back-link">
            <a href="{{ url_for('search') }}">Back to Search</a>
        </div>
        <h3>Available Rooms</h3>
        <table class="results-table">
            <thead>
                <tr>
                    <th>Room</th>
                    <th>Available starting at</th>
                    <th>Available until</th>
                    <th></th>
                </tr>
            </thead>
            <tbody id="results-list">
            </tbody>
        </table>
    </script>
{% endblock %}