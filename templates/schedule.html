{% extends "base.html" %}
{% block content %}
    <h2>Room Schedule - {{ building }} {{ floor }}.{{ room }}</h2>
    <div class="schedule-header">
        <div>
            <label for="schedule-date">Date:</label>
            <input type="date" id="schedule-date" value="{{ today }}">
        </div>
        <div class="schedule-links">
            <a href="{{ url_for('search') }}">Back to Search Results</a>
            <a href="#" id="view-on-map">View on Map</a>
        </div>
    </div>
    <!-- Add the new button here -->
    <div class="schedule-actions">
        <button id="report-missing-event">Report Missing Event</button>
    </div>
    <table class="schedule-table">
        <thead>
            <tr>
                <th>Time</th>
                <th>Status</th>
                <th>Notes</th>
                <th></th>
            </tr>
        </thead>
        <tbody id="schedule">
        </tbody>
    </table>
    <div id="report-dialog" class="dialog" style="display: none;">
        <div class="dialog-content">
            <h3 id="dialog-title"></h3>
            <p id="dialog-message"></p>
            <form id="dialog-form">
                <label id="event-title-label" style="display: none;">Event Title: <input type="text" id="event-title" name="event_title"></label>
                <label id="start-time-label" style="display: none;">Start Time: <input type="time" id="start-time" name="start_time"></label>
                <label id="end-time-label" style="display: none;">End Time: <input type="time" id="end-time" name="end_time"></label>
                <label id="explanation-label" style="display: none;">Explanation of cancellation: <textarea id="explanation" name="explanation"></textarea></label>
                <div class="dialog-buttons">
                    <button type="button" id="dialog-confirm"></button>
                    <button type="button" id="dialog-cancel">Cancel</button>
                </div>
            </form>
        </div>
    </div>
{% endblock %}