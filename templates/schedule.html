{% extends "base.html" %}
{% block content %}
    <h2>Room Schedule - {{ building }} {{ room }}</h2>
    <div class="schedule-header">
        <div class="date-selector">
            <button id="prev-day">Previous Day</button>
            <label for="schedule-date">Date:</label>
            <input type="date" id="schedule-date" value="{{ today }}">
            <button id="next-day">Next Day</button>
        </div>
        <div class="schedule-links">
            <a href="{{ url_for('search', 
                              building=search_criteria.building_search, 
                              room=search_criteria.room_search, 
                              date=search_criteria.date, 
                              start_time=search_criteria.start_time, 
                              end_time=search_criteria.end_time, 
                              duration=search_criteria.duration) }}">Back to Search</a>
        </div>
    </div>
    <div class="schedule-actions">
        <button id="report-missing-event">Report Missing Event</button>
    </div>
    <table class="schedule-table">
        <thead>
            <tr>
                <th>Time</th>
                <th>Status</th>
                <th>Event</th>
                <th>Notes</th>
                <th></th>
            </tr>
        </thead>
        <tbody id="schedule">
        </tbody>
    </table>
    <div id="report-dialog" class="dialog" style="display: none;">
        <div class="dialog-content">
            <h3 id="dialog-title"></h3>
            <p id="dialog-message"></p>
            <form id="dialog-form">
                <label id="event-title-label" style="display: none;">Event Title: <input type="text" id="event-title" name="event_title"></label>
                <label id="start-time-label" style="display: none;">Start Time: <input type="time" id="start-time" name="start_time"></label>
                <label id="end-time-label" style="display: none;">End Time: <input type="time" id="end-time" name="end_time"></label>
                <label id="notes-label" style="display: none;">Notes: <textarea id="notes" name="notes"></textarea></label>
                <div class="dialog-buttons">
                    <button type="button" id="dialog-confirm"></button>
                    <button type="button" id="dialog-cancel">Cancel</button>
                </div>
            </form>
        </div>
    </div>
{% endblock %}